#:import Factory kivy.factory.Factory
<MainPage>:
	orientation: 'vertical'


	BoxLayout:
		size_hint: 1, .15
		Label:
			size_hint: .20, 1
			text: ''

		Label:
			text: '2D6 Statstistics'

		Button:
			size_hint: .20, 1
			text: 'info'
            on_press: Factory.InfoPopup().open()

	ScrollView:
		Label:
			font_size: 90

			size: self.texture_size
			text: app.list_str

    StackNumber:
            


<MainScreen>
    BoxLayout:
        orientation: 'vertical'
        MainPage:

        BottomLayout:
            size_hint: 1, .15
            Button:
                text: 'End Game?'
                on_press: Factory.EndPopup().open()

<EndScreen>:
    BoxLayout:
        orientation: 'vertical'
        ScrollView:
		    Label:
			    size_hint: None, None
			    font_size: 60
			    size: self.texture_size
                text: app.end_statistics

			    
        Button:
            size_hint: 1, .15
            text: 'New Game'
            on_press: Factory.NewGamePopup().open()

<EndPopup>:
    title: ''
    separator_height: 0
    size_hint: 1 , .75
    auto_dismiss: False
    BoxLayout:
        orientation: 'vertical'
        Label:
            size_hint: 1, .8
            text: 'Are you sure you want to end the Game?'

        BoxLayout:
            size_hint: 1, .2
            Button:
                text: 'Yes'
                on_press:
                    root.end_game()
                    app.sm.transition.direction = 'left'
                    app.sm.transition.duration = 0.3
                    app.sm.current = 'end_screen'
                    root.dismiss()
            Button:
                text: 'No'
                on_press: root.dismiss()

<NewGamePopup>:
    title: ''
    separator_height: 0
    size_hint: 1 , .75
    auto_dismiss: False
    BoxLayout:
        orientation: 'vertical'
        Label:
            size_hint: 1, .8
            text: 'Are you sure you want to start a new Game?'

        BoxLayout:
            size_hint: 1, .2
            Button:
                text: 'Yes'
                on_press:
                    root.new_game()
                    app.sm.transition.direction = 'left'
                    app.sm.transition.duration = 0.3
                    app.sm.current = 'main_screen'
                    root.dismiss()
            Button:
                text: 'No'
                on_press: root.dismiss()

<InfoPopup>:
    title: ''
    separator_height: 0
    size_hint: 1 , .75
    auto_dismiss: False

    BoxLayout:
        Label:
            size_hint: 1, .8
            text_size: self.size
            markup: True
            text: 'Hello this is my first app. It calculates the probabilitys of your rolls. It is an open source Project if you want to contribute you can visit the [ref=https://github.com/Rivow/2d6-Probability-Statistics] [color=0000ff]Github Repository[/color][/ref] to find the code. If you find any bugs feel free to tell me'
            on_ref_press:
                import webbrowser
                webbrowser.open(args[1])







